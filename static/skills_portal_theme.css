:root{
  --accent:#c1272d;
  --sidebar-bg:#333333;
}

/* Collaborateurs: tables plus aérées et lisibles (aligné référentiel) */
#view-vos-collaborateurs .sb-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
}

#view-vos-collaborateurs .sb-table thead th {
  text-align: left;
  font-weight: 600;
  font-size: 13px;
  color: #111827;
  padding: 12px 16px;
  border-bottom: 1px solid #e5e7eb;
  white-space: nowrap;
}

#view-vos-collaborateurs .sb-table tbody td {
  padding: 12px 16px;
  vertical-align: middle;
  border-bottom: 1px solid #f3f4f6;
  line-height: 1.35;
}

#view-vos-collaborateurs .sb-table tbody tr:nth-child(even) {
  background: #fafafa;
}

#view-vos-collaborateurs .sb-table tbody tr:hover {
  background: #f3f4f6;
}

/* Nom plus lisible */
#view-vos-collaborateurs .sb-table tbody td:nth-child(1) {
  font-weight: 700;
}

/* Alignements (statut + dates centrés) */
#view-vos-collaborateurs .sb-table tbody td:nth-child(4),
#view-vos-collaborateurs .sb-table tbody td:nth-child(5),
#view-vos-collaborateurs .sb-table tbody td:nth-child(6),
#view-vos-collaborateurs .sb-table thead th:nth-child(4),
#view-vos-collaborateurs .sb-table thead th:nth-child(5),
#view-vos-collaborateurs .sb-table thead th:nth-child(6) {
  text-align: center;
}

/* Dates sur une ligne */
#view-vos-collaborateurs .sb-table tbody td:nth-child(5),
#view-vos-collaborateurs .sb-table tbody td:nth-child(6) {
  white-space: nowrap;
}

/* Tailles de colonnes (équilibre visuel) */
#view-vos-collaborateurs .sb-table thead th:nth-child(1) { width: 180px; } /* Nom */
#view-vos-collaborateurs .sb-table thead th:nth-child(2) { width: 150px; } /* Service */
#view-vos-collaborateurs .sb-table thead th:nth-child(4) { width: 120px; } /* Statut */
#view-vos-collaborateurs .sb-table thead th:nth-child(5) { width: 110px; } /* Entrée */
#view-vos-collaborateurs .sb-table thead th:nth-child(6) { width: 130px; } /* Sortie prévue */
#view-vos-collaborateurs .sb-table thead th:nth-child(7) { width: 220px; } /* Contact */

/* Contact: autoriser retour à la ligne si besoin */
#view-vos-collaborateurs .sb-table tbody td:nth-child(7) {
  white-space: normal;
}

/* --- Vos collaborateurs : compact + Poste plus large + suppression colonne Contact --- */

/* Police légèrement plus petite */
#view-vos-collaborateurs .sb-table thead th{ font-size: 12px; }
#view-vos-collaborateurs .sb-table tbody td{ font-size: 13px; }

/* Poste (col 3) plus large */
#view-vos-collaborateurs .sb-table thead th:nth-child(3){ width: 320px; }

/* Masquer la colonne Contact (col 7) */
#view-vos-collaborateurs .sb-table thead th:nth-child(7),
#view-vos-collaborateurs .sb-table tbody td:nth-child(7){
  display: none;
}



/* Référentiel compétences: tables plus aérées et lisibles */
#view-referentiel-competences .sb-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
}

#view-referentiel-competences .sb-table thead th {
  text-align: left;
  font-weight: 600;
  font-size: 13px;
  color: #111827;
  padding: 12px 16px;
  border-bottom: 1px solid #e5e7eb;
  white-space: nowrap;
}

#view-referentiel-competences .sb-table tbody td {
  padding: 12px 16px;
  vertical-align: middle;
  border-bottom: 1px solid #f3f4f6;
  line-height: 1.35;
}

#view-referentiel-competences .sb-table tbody tr:nth-child(even) {
  background: #fafafa;
}

#view-referentiel-competences .sb-table tbody tr:hover {
  background: #f3f4f6;
}

#view-referentiel-competences .col-center {
  text-align: center !important;
}

#view-referentiel-competences .col-dom { width: 60px; }
#view-referentiel-competences .col-code { width: 90px; font-weight: 700; white-space: nowrap; }
#view-referentiel-competences .col-level { width: 110px; white-space: nowrap; }
#view-referentiel-competences .col-postes { width: 80px; white-space: nowrap; }
#view-referentiel-competences .col-detail { width: 90px; white-space: nowrap; }

#view-referentiel-competences .domain-dot {
  display: inline-block;
  width: 14px;
  height: 14px;
  border-radius: 6px;
  border: 1px solid #d1d5db;
}

#view-referentiel-competences .btn-secondary.btn-xs {
  padding: 6px 10px;
  font-size: 12px;
  margin-left: 0;
}

/* Domaine en détail (modal) : dot + libellé */
#view-referentiel-competences .domain-pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 4px 10px;
  border: 1px solid #d1d5db;
  border-radius: 999px;
  font-size: 12px;
  color: #374151;
  background: #fff;
}

#view-referentiel-competences .domain-pill .domain-dot {
  width: 10px;
  height: 10px;
  border-radius: 999px;
}

/* Modal référentiel: éviter le titre hors écran + permettre le scroll */
#modalRefDetail.modal.show {
  align-items: flex-start;
}

#modalRefDetail .modal-card {
  margin-top: 24px;
  max-height: calc(100vh - 48px);
  display: flex;
  flex-direction: column;
}

#modalRefDetail .modal-body {
  overflow: auto;
  flex: 1 1 auto;
}

/* ============================
   Collaborateurs: boutons (soft)
   ============================ */

#view-vos-collaborateurs #btnCollabReset {
  border-color: color-mix(in srgb, var(--accent) 35%, #d1d5db);
  background: color-mix(in srgb, var(--accent) 8%, #ffffff);
  color: #1f2937;
  font-weight: 600;
}

#view-vos-collaborateurs #btnCollabReset:hover {
  background: color-mix(in srgb, var(--accent) 12%, #ffffff);
}

#view-vos-collaborateurs #btnCollabReset:active {
  transform: translateY(1px);
}

/* Bouton "Fermer" (footer modal collaborateur) */
#modalCollaborateur #btnCollabModalClose {
  border-color: color-mix(in srgb, var(--accent) 35%, #087016);
  background: color-mix(in srgb, var(--accent) 8%, #d2ffac);
  color: #1f2937;
  font-weight: 600;
}

#modalCollaborateur #btnCollabModalClose:hover {
  background: color-mix(in srgb, var(--accent) 12%, #ffffff);
}

/* Croix (header modal collaborateur) */
#modalCollaborateur .modal-x {
  color: var(--accent);
}

#modalCollaborateur .modal-x:hover {
  background: color-mix(in srgb, var(--accent) 10%, transparent);
  border-radius: 8px;
}


/* ============================
   Référentiel: boutons (soft)
   ============================ */

#view-referentiel-competences #btnRefReset {
  border-color: color-mix(in srgb, var(--accent) 35%, #d1d5db);
  background: color-mix(in srgb, var(--accent) 8%, #ffffff);
  color: #1f2937;
  font-weight: 600;
}

#view-referentiel-competences #btnRefReset:hover {
  background: color-mix(in srgb, var(--accent) 12%, #ffffff);
}

#view-referentiel-competences #btnRefReset:active {
  transform: translateY(1px);
}

/* Bouton "Fermer" (footer modal détail) */
#modalRefDetail #btnRefModalClose {
  border-color: color-mix(in srgb, var(--accent) 35%, #087016);
  background: color-mix(in srgb, var(--accent) 8%, #d2ffac);
  color: #1f2937;
  font-weight: 600;
}

#modalRefDetail #btnRefModalClose:hover {
  background: color-mix(in srgb, var(--accent) 12%, #ffffff);
}

/* Croix (header modal) */
#modalRefDetail .modal-x {
  color: var(--accent);
}

#modalRefDetail .modal-x:hover {
  background: color-mix(in srgb, var(--accent) 10%, transparent);
  border-radius: 8px;
}

/* ============================
   Cartographie: heatmap (V1)
   ============================ */

#view-cartographie-competences .sb-heatmap {
  width: 100%;
  min-height: 120px;
}

/* Sur mobile / petits écrans, éviter que tout écrase */
@media (max-width: 900px) {
  #view-cartographie-competences .sb-heatmap {
    min-width: 720px;
  }
}

/* Bouton reset (soft comme référentiel) */
#view-cartographie-competences #btnMapReset {
  border-color: color-mix(in srgb, var(--accent) 35%, #d1d5db);
  background: color-mix(in srgb, var(--accent) 8%, #ffffff);
  color: #1f2937;
  font-weight: 600;
}

#view-cartographie-competences #btnMapReset:hover {
  background: color-mix(in srgb, var(--accent) 12%, #ffffff);
}

#view-cartographie-competences #btnMapReset:active {
  transform: translateY(1px);
}

/* Modal cartographie: scroll + cohérence */
#modalMapDetail.modal.show {
  align-items: flex-start;
}

#modalMapDetail .modal-card {
  margin-top: 24px;
  max-height: calc(100vh - 48px);
  display: flex;
  flex-direction: column;
}

#modalMapDetail .modal-body {
  overflow: auto;
  flex: 1 1 auto;
}

/* Bouton fermer (footer) + croix */
#modalMapDetail #btnMapModalClose {
  border-color: color-mix(in srgb, var(--accent) 35%, #087016);
  background: color-mix(in srgb, var(--accent) 8%, #d2ffac);
  color: #1f2937;
  font-weight: 600;
}

#modalMapDetail #btnMapModalClose:hover {
  background: color-mix(in srgb, var(--accent) 12%, #ffffff);
}

#modalMapDetail .modal-x {
  color: var(--accent);
}

#modalMapDetail .modal-x:hover {
  background: color-mix(in srgb, var(--accent) 10%, transparent);
  border-radius: 8px;
}
/* ============================
   Cartographie: Heatmap (WOW)
   ============================ */

#view-cartographie-competences .hm-legend{
  display:flex;
  align-items:center;
  gap:8px;
  margin: 10px 0 10px 0;
  color:#6b7280;
  font-size:12px;
}

#view-cartographie-competences .hm-legend-lab{ white-space:nowrap; }

#view-cartographie-competences .hm-swatch{
  width:22px;
  height:10px;
  border-radius:6px;
  border:1px solid #e5e7eb;
  display:inline-block;
}

#view-cartographie-competences .hm-wrap{
  overflow:auto;
  border:1px solid #eef2f7;
  border-radius:12px;
}

#view-cartographie-competences .hm-table{
  width:max-content;
  min-width:100%;
  border-collapse:separate;
  border-spacing:0;
  table-layout:fixed;
}

#view-cartographie-competences .hm-table thead th{
  position:sticky;
  top:0;
  background:#fafafa;
  z-index:4;
  font-weight:600;
  font-size:13px;
  color:#111827;
  padding:12px 14px;
  border-bottom:1px solid #e5e7eb;
  text-align:left;
  white-space:nowrap;
}

#view-cartographie-competences .hm-rowhead{
  min-width: 320px;
  max-width: 360px;
}

#view-cartographie-competences .hm-table tbody td{
  padding:10px 12px;
  border-bottom:1px solid #f3f4f6;
  vertical-align:middle;
}

#view-cartographie-competences .hm-sticky.hm-rowhead{
  position:sticky;
  left:0;
  background:#fff;
  z-index:3;
  border-right:1px solid #eef2f7;
}

#view-cartographie-competences .hm-poste-title{
  font-weight:600;
  color:#111827;
  line-height:1.2;
}

#view-cartographie-competences .hm-poste-sub{
  font-size:12px;
  color:#6b7280;
  margin-top:2px;
}

#view-cartographie-competences .hm-colhead{
  text-align:center;
  min-width:140px;              /* un peu plus large pour respirer */
}

#view-cartographie-competences .hm-dom-dot{
  display:inline-block;
  width:12px;
  height:12px;
  border-radius:3px;            /* carré arrondi léger (pas rond) */
  border:1px solid #d1d5db;
  vertical-align:middle;
  margin-right:8px;
  background:#e5e7eb;
  flex:0 0 auto;
}

#view-cartographie-competences .hm-dom-txt{
  display:inline-block;
  vertical-align:middle;
  max-width:140px;              /* tronque proprement */
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

#view-cartographie-competences .hm-cell{
  text-align:center;
  min-width:64px;
  height:46px;
  font-weight:700;
  border-left:1px solid #f3f4f6;
  border-radius:10px;
  cursor:pointer;
  user-select:none;
  transition: filter .12s ease, transform .06s ease;
}

#view-cartographie-competences .hm-cell:hover{
  filter: brightness(0.98);
  transform: translateY(-1px);
}

#view-cartographie-competences .hm-totalhead,
#view-cartographie-competences .hm-totalcell{
  background:#fafafa;
  font-weight:700;
}

#view-cartographie-competences .hm-totalrowlab{
  font-weight:700;
}

#view-cartographie-competences .hm-grandtotal{
  background:#f3f4f6;
  font-weight:800;
}

/* Niveaux de charge (palette sobre) */
#view-cartographie-competences .hm-lvl-0{ background:#ffffff; }
#view-cartographie-competences .hm-lvl-1{ background:color-mix(in srgb, var(--accent) 10%, #fff); }
#view-cartographie-competences .hm-lvl-2{ background:color-mix(in srgb, var(--accent) 18%, #fff); }
#view-cartographie-competences .hm-lvl-3{ background:color-mix(in srgb, var(--accent) 26%, #fff); }
#view-cartographie-competences .hm-lvl-4{ background:color-mix(in srgb, var(--accent) 34%, #fff); }
#view-cartographie-competences .hm-lvl-5{ background:color-mix(in srgb, var(--accent) 42%, #fff); }


/* ======================================================
   Skills — OVERRIDES STABLES (RESTORE)
   Objectif:
   - Reset en teal partout (skills_*)
   - Modals: hauteur max + scroll interne
   - Boutons "Fermer" uniformes sur tous les modals
   NB: section volontairement en fin de fichier (priorité CSS)
   ====================================================== */

:root{
  /* Accent de lecture (calme) */
  --reading-accent: #0d9488;
  --reading-accent-hover: #0f766e;
  --reading-accent-press: #115e59;
  --reading-accent-ring: rgba(13,148,136,0.30);

  /* Bouton Fermer (uniforme) */
  --modal-close-bg: #ffffff;
  --modal-close-border: #cbd5e1;
  --modal-close-text: #0f172a;
  --modal-close-hover-bg: #f8fafc;
}

/* ---------- Boutons RESET (teal) ---------- */
/* Priorité haute pour écraser les styles par vue existants */
button.btn-secondary[id$="Reset"],
#view-cartographie-competences #btnMapReset,
#view-vos-collaborateurs #btnCollabReset,
#view-referentiel-competences #btnRefReset,
#view-analyse-competences #btnAnalyseReset{
  background: var(--reading-accent) !important;
  border-color: var(--reading-accent) !important;
  color: #ffffff !important;
}

button.btn-secondary[id$="Reset"]:hover,
#view-cartographie-competences #btnMapReset:hover,
#view-vos-collaborateurs #btnCollabReset:hover,
#view-referentiel-competences #btnRefReset:hover,
#view-analyse-competences #btnAnalyseReset:hover{
  background: var(--reading-accent-hover) !important;
  border-color: var(--reading-accent-hover) !important;
}

button.btn-secondary[id$="Reset"]:active,
#view-cartographie-competences #btnMapReset:active,
#view-vos-collaborateurs #btnCollabReset:active,
#view-referentiel-competences #btnRefReset:active,
#view-analyse-competences #btnAnalyseReset:active{
  background: var(--reading-accent-press) !important;
  border-color: var(--reading-accent-press) !important;
}

button.btn-secondary[id$="Reset"]:focus{
  outline: none;
  box-shadow: 0 0 0 3px var(--reading-accent-ring);
}

/* ---------- MODALS: hauteur max + scroll interne ---------- */
.modal.show{
  align-items: flex-start; /* évite "centre" + overflow invisible */
}

.modal-card{
  max-height: calc(100vh - 32px);
  display: flex;
  flex-direction: column;
}

.modal-body{
  overflow: auto;
}

/* ---------- Boutons "Fermer" uniformes ---------- */
button[id$="ModalClose"]{
  background: var(--modal-close-bg) !important;
  border: 1px solid var(--modal-close-border) !important;
  color: var(--modal-close-text) !important;
}

button[id$="ModalClose"]:hover{
  background: var(--modal-close-hover-bg) !important;
}

button[id$="ModalClose"]:active{
  transform: translateY(1px);
}



/* ======================================================
   Analyse compétences: couleurs centralisées (v1)
   Objectif: ne plus mettre de couleurs en inline JS.
   ====================================================== */

:root{
  /* Accent UI (par défaut = couleur marque). Tu peux le surcharger par vue. */
  --ui-accent: var(--accent);

  /* Badges d'écarts (matching) */
  --gap-missing: #ef4444;
  --gap-under: #f59e0b;
  --gap-zero-bg: #e5e7eb;
  --gap-zero-fg: #6b7280;
  --gap-zero-border: #d1d5db;
}

/* Tuile sélectionnée (Analyse compétences) */
#view-analyse-competences .analyse-tile.active{
  outline: 2px solid color-mix(in srgb, var(--reading-accent) 65%, #ffffff) !important;
}

/* KPI sélectionné (tuiles) */
#view-analyse-competences .mini-kpi.is-active{
  border-color: color-mix(in srgb, var(--reading-accent) 55%, #d1d5db);
  background: color-mix(in srgb, var(--reading-accent) 6%, #ffffff);
}

/* Choix de poste (matching) */
#view-analyse-competences .sb-choice{
  display:block;
  width:100%;
  text-align:left;
  margin:0 !important;
  margin-left:0 !important;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid #e5e7eb;
  background:#ffffff;
  cursor:pointer;
}

#view-analyse-competences .sb-choice.is-selected{
  border-color: var(--reading-accent);
  background: color-mix(in srgb, var(--reading-accent) 8%, #ffffff);
}

#view-analyse-competences .sb-choice-title{
  font-weight:700;
  color:#111827;
  line-height:1.2;
}

#view-analyse-competences .sb-choice-sub{
  margin-top:2px;
  font-size:12px;
  color:#6b7280;
}

/* Segmented tabs (modals) */
.sb-seg{
  padding:6px 10px;
  border-radius:8px;
  border:1px solid #d1d5db;
  background:#ffffff;
  color:#111827;
  font-weight:900;
  cursor:pointer;
}

.sb-segbar{
  display:flex;
  gap:8px;
  align-items:center;
  flex-wrap:wrap;
}

#modalMatchPerson .sb-seg.sb-seg--dark.is-active{
  background:#111827;
  color:#ffffff;
}

#modalMatchPerson .sb-seg.sb-seg--dark:not(.is-active){
  background:#ffffff;
  color:#111827;
}

/* Tabs "Compétences / Couverture" (modal Analyse poste) */
#modalAnalysePoste .sb-seg.sb-seg--soft{
  font-weight:600;
}

#modalAnalysePoste .sb-seg.sb-seg--soft.is-active{
  border-color: var(--ui-accent);
  background: color-mix(in srgb, var(--ui-accent) 10%, #ffffff);
  font-weight:700;
}

#modalAnalysePoste .sb-seg.sb-seg--soft:not(.is-active){
  border-color:#d1d5db;
  background:#ffffff;
}

/* ======================================================
   Modal Collaborateur: onglets (Identification / Compétences / Certifications)
   ====================================================== */

/* Barre d’onglets */
#modalCollaborateur .sb-tabbar{
  display:flex;
  gap:8px;
  align-items:center;
  flex-wrap:wrap;
  padding-bottom:10px;
  margin-bottom:12px;
  border-bottom:1px solid #e5e7eb;
}

/* Boutons onglets (soft) */
#modalCollaborateur .sb-seg.sb-seg--soft{
  font-weight:600;
}

/* Actif */
#modalCollaborateur .sb-seg.sb-seg--soft.is-active{
  border-color: var(--reading-accent);
  background: color-mix(in srgb, var(--reading-accent) 10%, #ffffff);
  font-weight:700;
}

/* Inactif */
#modalCollaborateur .sb-seg.sb-seg--soft:not(.is-active){
  border-color:#d1d5db;
  background:#ffffff;
}

/* Panels */
#modalCollaborateur .sb-tab-panel{ display:none; }
#modalCollaborateur .sb-tab-panel.is-active{ display:block; }


/* Badges écarts (composant générique) */
.sb-gap-badges{
  display:inline-flex;
  gap:6px;
  align-items:center;
  justify-content:center;
}

.sb-gap-badges--sm .sb-gap-badge{
  height:18px;
  border-radius:4px;
  font-weight:800;
}

.sb-gap-badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:22px;
  height:22px;
  border-radius:6px;
  font-size:12px;
  font-weight:900;
  line-height:1;
  border:1px solid rgba(0,0,0,.12);
  color:#ffffff;
  background:#9ca3af;
}

.sb-gap-badge--sm{
  height:18px;
  border-radius:4px;
  font-weight:800;
}

.sb-gap-badge--missing{ background: var(--gap-missing); }
.sb-gap-badge--under{ background: var(--gap-under); }

.sb-gap-badge.is-zero{
  background: var(--gap-zero-bg);
  color: var(--gap-zero-fg);
  border:1px solid var(--gap-zero-border);
}

/* Légende (écarts) */
.sb-gap-legend{
  display:flex;
  gap:14px;
  flex-wrap:wrap;
  align-items:center;
  font-size:12px;
  color:#6b7280;
}

.sb-gap-legend--mt{ margin-top:10px; }

.sb-gap-legend-item{
  display:inline-flex;
  gap:6px;
  align-items:center;
}

.sb-gap-swatch{
  width:12px;
  height:12px;
  border-radius:3px;
  border:1px solid rgba(0,0,0,.12);
  display:inline-block;
  background:#e5e7eb;
}

.sb-gap-swatch--missing{ background: var(--gap-missing); }
.sb-gap-swatch--under{ background: var(--gap-under); }

/* Matching (liste Postes) : focus + sélection = couleur lecture (teal) */
#view-analyse-competences button.btn-secondary.sb-choice.is-selected{
  border: 1px solid var(--reading-accent);
  background: color-mix(in srgb, var(--reading-accent) 8%, #ffffff);
}

#view-analyse-competences button.btn-secondary.sb-choice:focus,
#view-analyse-competences button.btn-secondary.sb-choice:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--reading-accent) 30%, transparent);
}

/* ============================
   Sidebar header: badge produit
   ============================ */

.sidebar-header{
  display:flex;
  align-items:center;
  gap:10px;
  line-height:1;
}

.sidebar-header .brand{
  font-weight:700;
  letter-spacing:.6px;
  text-transform:none;
  color:#ffffff;
}

.sidebar-header .product-badge{
  display:inline-flex;
  align-items:center;
  height:24px;
  padding:0 14px;
  border-radius:999px;

  background: var(--accent);
  color:#fff;

  font-weight:700;
  font-size:14px;
  letter-spacing:.4px;
  text-transform:none; /* "Insights" > "INSIGHTS" */

  box-shadow:
    0 1px 0 rgba(255,255,255,.14) inset,
    0 6px 14px rgba(0,0,0,.25);
  text-shadow: 0 1px 0 rgba(0,0,0,.25);
}

.sidebar-header .product-badge:hover{
  filter: brightness(1.05);
}

/* ======================================================
   Analyse compétences — Modal "Critiques impactées" (UI)
   - Tables lisibles + lignes cliquables
   - Cartes KPI compactes dans le modal
   ====================================================== */

#view-analyse-competences .sb-modal-kpis{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  margin-top:10px;
}

#view-analyse-competences .sb-metric{
  flex:1 1 220px;
  min-width:220px;
  padding:12px;
  border:1px solid #e5e7eb;
  border-radius:12px;
  background:#ffffff;
}

#view-analyse-competences .sb-metric .label{
  font-size:12px;
  color:#6b7280;
  font-weight:600;
}

#view-analyse-competences .sb-metric .value{
  margin-top:4px;
  font-size:18px;
  font-weight:800;
  color:#111827;
}

/* Tables (analyse) : même niveau de lisibilité que les autres vues */
#view-analyse-competences .sb-table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
}

#view-analyse-competences .sb-table thead th{
  text-align:left;
  font-weight:700;
  font-size:13px;
  color:#111827;
  padding:12px 14px;
  border-bottom:1px solid #e5e7eb;
  white-space:nowrap;
  background:#fafafa;
}

#view-analyse-competences .sb-table tbody td{
  padding:12px 14px;
  vertical-align:middle;
  border-bottom:1px solid #f3f4f6;
  line-height:1.35;
}

#view-analyse-competences .sb-table tbody tr:nth-child(even){
  background:#fafafa;
}

#view-analyse-competences .sb-table tbody tr:hover{
  background:#f3f4f6;
}

#view-analyse-competences .sb-table .col-center{
  text-align:center !important;
}

/* Lignes cliquables (modal critiques) */
#view-analyse-competences .sb-row-click{
  cursor:pointer;
}

#view-analyse-competences .sb-row-click:hover{
  background: color-mix(in srgb, var(--reading-accent) 6%, #ffffff);
}

/* ======================================================
   Layout shell: sidebar fixe + scroll contenu (pas la page)
   ====================================================== */

html, body { height: 100%; }

body{
  height: 100vh;
  overflow: hidden; /* stop le scroll global */
}

/* Sidebar fixe visuellement (le body ne scroll plus) */
.sidebar{
  height: 100vh;
  overflow: auto; /* si le menu dépasse, il scrolle dans la sidebar */
}

/* Conteneur principal: pas de scroll ici */
.main{
  height: 100vh;
  overflow: hidden;
  min-height: 0; /* clé pour que le scroll interne marche en flex */
}

/* Seul le contenu scrolle */
.content{
  flex: 1 1 auto;
  min-height: 0; /* indispensable en flex column */
  overflow: auto; /* on force le scroll ici */
}

/* ======================================================
   Organisation: badge "X collab." (pastille soft)
   - Cible uniquement la vue "Votre organisation"
   - Exclut le badge "Responsable" (.sb-badge-accent)
   ====================================================== */
#view-votre-organisation .sb-accordion summary .sb-acc-right .sb-badge:not(.sb-badge-accent){
  background: rgb(62, 190, 73) !important;     /* bleu nuit très soft */
  border-color: rgb(62, 190, 73) !important;
  color: rgba(255, 255, 255, 0.808) !important;
  font-weight: 700;
}

/* ======================================================
   Modal Collaborateur - Onglet Compétences
   ====================================================== */

/* Titre compétence: moins gras, plus lisible */
#modalCollaborateur .sb-comp-title{
  font-weight: 600;
  font-size: 13px;
  line-height: 1.25;

  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Badge Domaine: pastille avec indicateur couleur (barre à gauche) */
#modalCollaborateur .sb-badge.sb-badge-domain{
  position: relative;
  padding-left: 14px;
}

/* Si --dom-color est défini, on l'utilise. Sinon on reste neutre */
#modalCollaborateur .sb-badge.sb-badge-domain::before{
  content: "";
  position: absolute;
  left: 6px;
  top: 50%;
  width: 4px;
  height: 12px;
  transform: translateY(-50%);
  border-radius: 2px;
  background: var(--dom-color, #9ca3af);
}

/* Modal Collaborateur: plus large */
#modalCollaborateur .modal-card{
  width: min(1280px, calc(100vw - 32px)) !important;
}

/* ======================================================
   Modal Collaborateur - Onglet Historique
   ====================================================== */

#modalCollaborateur .sb-history-filters{
  display:flex;
  gap:12px;
  align-items:flex-end;
  flex-wrap:wrap;
  margin:0 0 12px 0;
  padding:10px 12px;
  border:1px solid #e5e7eb;
  border-radius:12px;
  background:#fafafa;
}

#modalCollaborateur .sb-history-filters .sb-field{
  min-width: 220px;
}

#modalCollaborateur .sb-history-filters .sb-label{
  display:block;
  font-size:12px;
  font-weight:700;
  color:#374151;
  margin-bottom:4px;
}

#modalCollaborateur .sb-history-filters .sb-select{
  width:100%;
  padding:8px 10px;
  border-radius:10px;
  border:1px solid #d1d5db;
  background:#ffffff;
  color:#111827;
  font-size:13px;
}

#modalCollaborateur .sb-history-filters .sb-select:focus{
  outline:none;
  box-shadow: 0 0 0 3px var(--reading-accent-ring);
  border-color: var(--reading-accent);
}

#modalCollaborateur .sb-history-filters .sb-check{
  display:flex;
  align-items:center;
  gap:8px;
  font-size:13px;
  color:#374151;
  user-select:none;
  padding:6px 8px;
  border-radius:10px;
}

#modalCollaborateur .sb-history-filters .sb-check:hover{
  background: color-mix(in srgb, var(--reading-accent) 6%, #ffffff);
}

#modalCollaborateur .sb-history-filters .sb-check input{
  transform: translateY(1px);
}

/* Accordéons */
#modalCollaborateur .sb-accordion{
  border:1px solid #e5e7eb;
  border-radius:12px;
  overflow:hidden;
  background:#ffffff;
  margin-bottom:10px;
}

#modalCollaborateur .sb-acc-head{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:10px 12px;
  border:0;
  background:#ffffff;
  cursor:pointer;
  text-align:left;
  font-weight:700;
  color:#111827;
}

#modalCollaborateur .sb-acc-head:hover{
  background: color-mix(in srgb, var(--reading-accent) 6%, #ffffff);
}

#modalCollaborateur .sb-acc-chevron{
  font-size:14px;
  color:#6b7280;
  transition: transform .12s ease;
  flex:0 0 auto;
}

#modalCollaborateur .sb-acc-head.is-open .sb-acc-chevron{
  transform: rotate(180deg);
}

#modalCollaborateur .sb-acc-body{
  padding:12px;
  border-top:1px solid #e5e7eb;
  background:#ffffff;
}


/* ======================================================
   Entretien de performance - Slider criticité
   ====================================================== */

#view-entretien-performance .ep-crit-slider{
  display: flex;
  flex-direction: column;
  gap: 6px;
}

#view-entretien-performance .ep-crit-slider input[type="range"]{
  width: 100%;
}

#view-entretien-performance .ep-crit-slider-meta{
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 12px;
}

#view-entretien-performance #ep_rngCriticiteVal{
  display: inline-block;
  min-width: 28px;
  text-align: right;
}

/* ======================================================
   Modal générique (fallback) - détail formation historique
   ====================================================== */

.modal{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,.35);
  display:none;
  align-items:center;
  justify-content:center;
  z-index: 9999;
}

.modal.show{ display:flex; }

.modal .modal-card{
  width:min(900px, 92vw);
  max-height: 88vh;
  overflow:hidden;
  background:#fff;
  border-radius: 14px;
  border:1px solid #e5e7eb;
  box-shadow: 0 14px 40px rgba(0,0,0,.20);
  display:flex;
  flex-direction:column;
}

.modal .modal-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px 14px;
  border-bottom:1px solid #e5e7eb;
}

.modal .modal-x{
  border:0;
  background:transparent;
  font-size:22px;
  line-height:1;
  cursor:pointer;
  color:#6b7280;
}

.modal .modal-body{
  padding:14px;
  overflow:auto;
}

.modal .modal-footer{
  padding:12px 14px;
  border-top:1px solid #e5e7eb;
  display:flex;
  justify-content:flex-end;
  gap:10px;
}
